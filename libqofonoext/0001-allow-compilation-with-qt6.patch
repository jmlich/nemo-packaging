From 75fd66e9c0492215e70da4efdf7d06ab6e255239 Mon Sep 17 00:00:00 2001
From: Jozef Mlich <jmlich83@gmail.com>
Date: Sat, 8 Jul 2023 16:13:42 +0000
Subject: [PATCH] allow compilation with qt6

---
 .gitignore        | 11 +++++++++++
 plugin/plugin.pro |  2 +-
 src/src.pro       |  2 +-
 3 files changed, 13 insertions(+), 2 deletions(-)

diff --git a/.gitignore b/.gitignore
index 439ae67..27569ca 100644
--- a/.gitignore
+++ b/.gitignore
@@ -2,3 +2,14 @@
 build
 .DS_Store
 *.pro.user
+.qmake.stash
+Makefile
+plugin/Makefile
+plugin/libqofonoextdeclarative*.so*
+src/Makefile
+src/libqofonoext*.prl
+src/libqofonoext*.so*
+src/pkgconfig/
+moc_*
+*.o
+*.moc
diff --git a/plugin/plugin.pro b/plugin/plugin.pro
index e1334c5..e99afb4 100644
--- a/plugin/plugin.pro
+++ b/plugin/plugin.pro
@@ -1,7 +1,7 @@
 TARGET=qofonoextdeclarative
 TEMPLATE = lib
 CONFIG += plugin link_pkgconfig
-PKGCONFIG += qofono-qt5
+PKGCONFIG += qofono-qt$${QT_MAJOR_VERSION}
 QMAKE_CXXFLAGS += -Wno-unused-parameter -Wno-psabi
 
 QT_VERSION=$$[QT_VERSION]
diff --git a/src/src.pro b/src/src.pro
index 42f6543..d11070a 100644
--- a/src/src.pro
+++ b/src/src.pro
@@ -1,6 +1,6 @@
 TARGET = qofonoext
 CONFIG += create_pc create_prl no_install_prl link_pkgconfig
-PKGCONFIG += qofono-qt5
+PKGCONFIG += qofono-qt$${QT_MAJOR_VERSION}
 
 QT += dbus
 QT -= gui
-- 
2.40.1

