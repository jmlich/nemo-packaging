# $Id$
# Contributor: Donald Carr<sirspudd@gmail.com>
# Contributor: Alexey Andreyev <aa13q@ya.ru>
# Maintainer: James Kittsmiller (AJSlye) <james@nulogicsystems.com>

#set -o errexit
#set -o xtrace

pkgname=qt5-feedback-haptics-native-vibrator
pkgver=0.2.1
pkgrel=1
pkgdesc='Haptic feedback plugin using native vibrator'
arch=('x86_64' 'aarch64')
url="https://github.com/mer-hybris/qt5-feedback-haptics-droid-vibrator"
license=('GPL')
depends=('qt6-base' 'qt6-feedback' 'libprofile-qt')
source=("${url}/archive/refs/tags/$pkgver.tar.gz")
sha256sums=('4b83fd2cd3125d83ad7fa3826360ecf2bd51d69c762ec6486726572da4c07c97')


build() {
    cd qt5-feedback-haptics-droid-vibrator-$pkgver
    qmake6 "CONFIG+=native_vibrator"
    make
}

package() {
    cd qt5-feedback-haptics-droid-vibrator-$pkgver
    make -j 1 INSTALL_ROOT="$pkgdir" install
}
