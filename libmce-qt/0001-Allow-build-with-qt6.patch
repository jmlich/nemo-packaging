From 3ad1134bc03074b703174c705a2f947bb1363987 Mon Sep 17 00:00:00 2001
From: Chupligin Sergey <neochapay@gmail.com>
Date: Mon, 12 Dec 2022 13:07:25 +0000
Subject: [PATCH] Allow build with qt6

---
 lib/lib.pro       | 6 +++---
 plugin/plugin.pro | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/lib/lib.pro b/lib/lib.pro
index 63a81ca..86f051c 100644
--- a/lib/lib.pro
+++ b/lib/lib.pro
@@ -1,4 +1,4 @@
-TARGET = mce-qt5
+TARGET = mce-qt$${QT_MAJOR_VERSION}
 CONFIG += create_pc create_prl no_install_prl link_pkgconfig
 PKGCONFIG += mce
 
@@ -69,9 +69,9 @@ com_nokia_mce_signal.source_flags = -N -c QMceSignalProxy
 target.path = $$[QT_INSTALL_LIBS]
 
 headers.files = $$PUBLIC_HEADERS
-headers.path = $$INSTALL_ROOT$$PREFIX/include/mce-qt5
+headers.path = $$INSTALL_ROOT$$PREFIX/include/mce-qt$${QT_MAJOR_VERSION}
 
-pkgconfig.files = mce-qt5.pc
+pkgconfig.files = mce-qt$${QT_MAJOR_VERSION}.pc
 pkgconfig.path = $$[QT_INSTALL_LIBS]/pkgconfig
 
 QMAKE_PKGCONFIG_NAME = $$TARGET
diff --git a/plugin/plugin.pro b/plugin/plugin.pro
index c175473..b973836 100644
--- a/plugin/plugin.pro
+++ b/plugin/plugin.pro
@@ -6,7 +6,7 @@ QMAKE_CXXFLAGS += -Wno-unused-parameter -Wno-psabi
 
 QT += qml
 QT -= gui
-LIBS += -L../lib -lmce-qt5
+LIBS += -L../lib -lmce-qt$${QT_MAJOR_VERSION}
 INCLUDEPATH +=  ../lib/include
 
 SOURCES =  qmcedeclarativeplugin.cpp
-- 
2.40.1

